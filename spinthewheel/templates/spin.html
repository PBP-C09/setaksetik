{% extends "base.html" %}
{% load static %}

{% block content %}
<title>Spin the Wheel</title>

<!-- CSS Styles File -->
<link rel="stylesheet" type="text/css" href="{% static 'css/spin_styles.css' %}">

<div class="header text-center mt-2 mb-2">
    <h1 class="text-4xl">
        <span class="italic">Bingung</span> makan apa?
    </h1>    
    <div class="border-t-2 border-[beige] mt-3 mx-auto w-1/3"></div>
    <p id="winner" class="text-2xl text-[beige] mt-2">Spin aja!</p>
</div>
<div class="main-container flex justify-center items-start w-full mb-5">
    <!-- The Wheel -->
    <div class="wheel mx-auto">
        <canvas id="canvas" width="500" height="500"></canvas>
        <div class="center-circle" onclick="spin()">
            <div class="triangle"></div>
        </div>
    </div>

    <!-- The Menus -->
    <div class="menu-container w-1/3 mr-20">
        <form method="POST" id="filterForm">

            <div class="flex space-x-0 mt-5">
                {% csrf_token %}
                <select id="categoryFilter" name="category" class="w-full p-3 rounded mr-5" style="background-color: #3E2723; border: 3;" >
                    {% for category in categories %}
                        <option value="{{ category }}" {% if category == selected_category %} selected {% endif %}>
                            {{ category }}
                        </option>
                    {% endfor %}
                </select>
            </div>

        </form>

        <!-- Menu list -->
        <div id="menuList" class="mt-5 h-80 overflow-y-auto rounded"></div>

        <button type="button" class="mt-2 w-full p-3 text-lg rounded" style="font-family: 'Playfair Display', serif; font-style: italic; transition: color 0.3s;" onmouseover="this.style.color='#FFD54F'" onmouseout="this.style.color=''" onclick="clearAll()">
            Clear Wheel
        </button>
    </div>
</div>

<!-- JS Scripts File -->
<script src="{% static 'js/spin_scripts.js' %}"></script>
{% endblock %}